## 一、字符串面试题特点：

1. 广泛性

   - 字符串可以看作字符类型数组：与**数组排序、查找、调整**有关
   - 很多其他类型是面试题可以看作字符串类型是面试题 

   注意：用Java实现字符串类型的题目时，需要掌握StringBuffer，StringBuilder类 和 toCharArray方法

2. 需要掌握的概念

   - 回文
   - 字串（连续）
   - 子序列（不连续）
   - 前缀树（Trie树）
   - 后缀树和后缀数组
   - 匹配
   - 字典序

3. 基本的操作

   1. 与数组相关的操作：增删改查
   2. 字符的替换
   3. 字符串的旋转



## 二、字符串题目的常见类型

1. **规则判断**
   - 判断字符串是否符合整数的规则
   - 判断字符串是否符合浮点数的规则
   - 判断字符串是否符合回文字符串的规则
   - 。。。等等
2. **数字运算**
   - int 和 long 类型表达整数范围有限，所有经常用字符串实现大整数
   - 与大整数相关的加减乘除操作，需要模拟笔算的过程
3. **与数组操作有关的类型**
   - 与数组有关的排序、查找和交换操作
   - 快速排序的划分过程需要掌握和改写
4. **字符计数**
   - 哈希表
   - 固定长度数组；C/C++ （长度256），Java（长度65536） 
   - 滑动窗口问题、寻找无重复字符字串问题、计算变位词问题
5. **动态规划类型**
   - 最长公共子串
   - 最长公共子序列
   - 最长回文子串
   - 最长回文子序列
   - 。。。等
6. **搜索类型**
   - 宽度优先搜索
   - 深度优先搜索
7. **使用高级算法与数据结构解决的问题**  
   - Manacher算法解决最长回文子串问题
   - KMP算法解决字符串匹配问题
   - 前缀树结构
   - 后缀树和后缀数组
   - **通常面试中很少出现** ，代码实现比较复杂



## 三、案例

#### 案例一、查找是否存在子树

![image-20200822110138742](C:\Users\chiwai lee\AppData\Roaming\Typora\typora-user-images\image-20200822110138742.png)



##### 1. **普通解法**： 二叉树遍历 + 匹配问题

考察 t1 中一每个节点为头节点的字树是否与 t2 一致

普通解法的时间复杂度为 O(N * M)，N 代表 t1 节点数，M 代表 t2节点数



##### 2. 最优解：二叉树序列化 + KMP算法

时间复杂度为 O(N + M)

解题思路如下

![image-20200822111145488](C:\Users\chiwai lee\AppData\Roaming\Typora\typora-user-images\image-20200822111145488.png)



#### 案例二、互为变形词

给定两个字符串str1和str2，如果str1和str2中出现的字符串种类一样且每种字符出现的次数也一样，那么str1与str2互为变形词，请实现函数判断两个字符串是否互为变形词

举例：

str1= ”123“，str2=”231“，返回true；

str1= ”123“，str2=”2331“，返回false；

##### 解法：

使用哈希表做字符统计

![image-20201216152430045](C:\Users\chiwai lee\AppData\Roaming\Typora\typora-user-images\image-20201216152430045.png)

可以使用固定长度的数组代替哈希表结构，世家复杂度为O(N)，额外空间复杂度为O(N)



#### 案例三、旋转词

如果一个字符串str，把字符串str前面任意的部分挪到后面去形成的字符串叫做str的旋转词。比如str=”1234“，str的旋转词有”1234“，”2341“，”3412“，”4123“。给定两个字符串a和b，请判断a和b是否互为旋转词。

举例：

a=”cdab“，b=”abcd“。返回true；

a=”1ab2“，b=”ab12“。返回false；

a=”2ab1“，b=”ab12“。返回true；

##### 解法：

最优解时间复杂度为O(N)

1. 判断str1与str2长度是否相等
2. 如果长度相等，生成 **str1 + str1** 的大字符串
3. 用KMP算法判断大字符串是否包含str2

**举例说明：**

str1=”1 2 3 4“

str1 + str1 = ”1 2 3 4 1 2 3 4“

如果str1长度为N，在 str1 + str1 的字符串中，任意一个长度为N字串都是str1 是旋转词。 



#### 案例四、字符串中单词间逆序

给定一个字符串str，请在单词间做逆序调整

**举例：**

”pig loves dog“ 逆序成 ”dog loves pig“

"I'm a student." 逆序成 "student. a I'm"

##### 解法：局部逆序

1. 实现将字符串局部所有字符串逆序的函数 f

2. 利用 f 将字符串所有字符逆序

   ”pig loves dog“  -->  "god sevol gip"

3. 找到逆序后的字符串中每一个单词的区域，利用 f 将每一个单词的区域逆序

   "god sevol gip" -->  ”dog loves pig“

#### 案例五、字符串移动子串

给定一个字符串str，和一个整数 i ，i 代表str中的位置，将str[0...i]移到右侧，str[i+1...N-1]移到左侧。

**举例：**

str=”ABCDE“，i=2；将str调整为 ” DEABC“

要求，时间复杂度为O(N)，额外空间复杂度为O(1).

##### 解法：局部逆序

1. 将 str[0..i] 部分字符逆序

   ”A B C D E“  -->  ”C B A D E“

2. 将 str[i+1...N-1] 部分字符逆序

    ”C B A D E“  -->   ”C B A E D“

3. 将 str整体的字符逆序

   ”C B A E D“  -->  ”D E A B C“



#### 案例六、字符串拼接，字典序最小

给定一个字符串类型的数组strs，请找到一种拼接顺序，使得将所有字符串拼接起来组成的大字符串是所有可能性中字典序最小的，并返回这个大字符串。

**举例：**

strs=[”abc“, "de"]，可以拼接成 ”abcde“，也可以拼接成 ”deabc“，但是前者字典序更小，所以返回 ”abcde“。

strs=["b"，“ba”]，可以拼接成 ”bba“，也可以拼接成 ”bab“，但是后者字典序更小，所以返回  ”bab“。

##### 解法：实质是一种排序的实现

最优解时间复杂度为O(N*logN)

**方案一、****（错误的）**

根据单独每个字符串的字典序排序

![image-20201216161214358](C:\Users\chiwai lee\AppData\Roaming\Typora\typora-user-images\image-20201216161214358.png)



**方案二、把拼接后的大字符串进行比较**

str1和str2按照如下方式进行比较

如果 str1 + str2  <  str2 + str1，则str1放在前面；否则，str2放在前面。



#### 案例七、字符串替换

给定一个字符串str，将其中所以的空格字符串替换成 “%20”，假设str后面有足够的空间

**举例：**

str=“a b c”

##### 解法：

1. 遍历str，发现空格的数量为2；所以str在替换后，长度为 5 + 2*2 = 9
2. 从下标为8的位置开始拷贝，遇到字符直接拷贝，遇到空格则替换成相应的字符串，直到遇到第一个字符停止。过程如下：

![image-20201216162237855](C:\Users\chiwai lee\AppData\Roaming\Typora\typora-user-images\image-20201216162237855.png)

![image-20201216162301314](C:\Users\chiwai lee\AppData\Roaming\Typora\typora-user-images\image-20201216162301314.png)

![image-20201216162335848](C:\Users\chiwai lee\AppData\Roaming\Typora\typora-user-images\image-20201216162335848.png)

![image-20201216162357599](C:\Users\chiwai lee\AppData\Roaming\Typora\typora-user-images\image-20201216162357599.png)



#### 案例八、括号配对

给定一个字符串str，判断是不是整体有效的括号字符串

**举例：**

str= “()”，返回true。

str= “(()())”，返回true。

str= “(())”，返回true。

str= “())”，返回false。

str= “()(”，返回false。

str= “()a()”，返回false。

##### 解法：

1. 整型变量num，代表 ”(“ 出现的次数与 ")" 出现的次数的差值。
2. 遍历过程中，如果遇到 ”(“ 则 num++；
3. 遍历过程中，如果遇到 ”)“ 则 num--；
4. 遍历过程中，如果 num < 0，则直接返回 false；
5. 如果一直每出现情况4，则一直遍历下去；
6. 遍历完成后，如果 num==0，则返回true，否则返回false。



#### 案例九、求最长无重复字符字串长度

给定一个字符串str，返回str的最长无重复字符字串长度

 **举例：**

str = ”abcd“，返回4；

str = ”abcb“，最长无重复字符字串为 ”abc“ ，返回3。



##### 解法：

最优解，时间复杂度为O(N)，额外时间复杂度为O(N)。

**求解过程：**

求出以str中每个字符结尾的情况下，最长无重复字符字串的长度，并在其中找出最大值返回。

所需变量：

- 哈希表map -->  统计了每种字符之前出现的位置
- 整型变量pre  -->  代表以s[i-1]结尾情况下，最长无重复字串的长度

情况一

![image-20201216170656623](C:\Users\chiwai lee\AppData\Roaming\Typora\typora-user-images\image-20201216170656623.png)

情况二

![image-20201216170751120](C:\Users\chiwai lee\AppData\Roaming\Typora\typora-user-images\image-20201216170751120.png)

